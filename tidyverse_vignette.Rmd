---
title: "DATA 607 - TidyVerse Vignette (tidyr)"
author: "Zach Alexander"
date: "November 19, 2019"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---

***

### Libraries loaded

```{r setup, message=FALSE, warning=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidyr)
```


***

### Loading in the dataset from FiveThirtyEight

```{r, warning=FALSE, message=FALSE}
nfl_elo <- read_csv('C:/Users/zalexander/Desktop/FALL2019TIDYVERSE/nfl_elo_latest.csv')
```

***

### Working with the tidyr package

Most of the time, data and information is not presented in a very easy-to-use format. As data scientists, a key part of our role is to manipulate data into formats that are simpler to understand and to use. Without clean and tidy data, it's difficult to run analyses and visualize important points in order to draw valuable conclusions. Additionally, the data-tidying process is never static, as new questions arise and/or new data is collected, data need to be cleaned further.

The tidyr package is a great tool to utilize for these circumstances. 

With built-in functions such as `spread()`, `gather()`, `separate()`, `separate_rows()`, `unite()`, `drop_na()`, `fill()`, `replace_na()`, `complete()` and `expand()`, we can tidy data in many different ways.


***

#### Reshaping Data

Often times, you'll need to change the layout of values in a table. Whether you are going from a wide dataset to long dataset, or vice versa, the `gather()` and `spread()` functions are very valuable for this process.  

***

<center>
> __Gather__
</center>  

This function takes the values from the column names, turns them into a "key" column and gathers the values into a single value column:

```{r, echo=FALSE}
home_teams <- nfl_elo %>%
  gather('x', 'team', 5:6) %>% 
  select(date, x, team, elo1_pre, elo1_post) %>% 
  filter(x == 'team1') %>% 
  arrange(team) %>% 
  select(date, team, elo1_pre, elo1_post)
```


```{r, echo=FALSE}
home_teams %>% 
  gather(elo1_pre, elo1_post, key = 'pre_post', value = 'elo_ratings') %>% 
  arrange(team, date) 
```





